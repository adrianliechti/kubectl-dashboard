(self.webpackChunkkubernetes_dashboard=self.webpackChunkkubernetes_dashboard||[]).push([[375],{1375:(Z,$,s)=>{"use strict";s.r($),s.d($,{LogsModule:()=>De});var A=s(6814),D=s(7833),G=s(5816),S=s(8109),I=s(1699),N=s(960),_=s(9862),T=function(o){return o.LoadStart="beginning",o.LoadEnd="end",o.TimestampOldest="oldest",o.TimestampNewest="newest",o}(T||{}),e=s(5879),l=s(8189),a=s(217),f=s(1993),c=s(7171),u=s(1075),x=s(3139),w=s(7817);function E(o,g){1&o&&(e.TgZ(0,"h2",3),e.SDv(1,4),e.qZA())}function y(o,g){1&o&&(e.TgZ(0,"div"),e.SDv(1,7),e.qZA())}function F(o,g){1&o&&(e.TgZ(0,"div"),e.SDv(1,8),e.qZA())}function v(o,g){if(1&o&&(e.ynx(0),e.TgZ(1,"div"),e.SDv(2,5),e.ALo(3,"kdMemory"),e.qZA(),e._UZ(4,"mat-progress-bar",6),e.YNc(5,y,2,0,"div",2),e.YNc(6,F,2,0,"div",2),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.pQV(e.lcZ(3,4,t.loaded)),e.QtT(2),e.xp6(1),e.Q6J("mode",t.getDownloadMode()),e.xp6(1),e.Q6J("ngIf",!t.finished),e.xp6(1),e.Q6J("ngIf",t.finished)}}function Q(o,g){1&o&&(e.ynx(0),e.TgZ(1,"div",9)(2,"h3"),e.SDv(3,10),e.qZA(),e.TgZ(4,"span"),e.SDv(5,11),e.qZA()(),e.BQk())}function B(o,g){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save())}),e.SDv(2,13),e.qZA(),e.TgZ(3,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.abort())}),e.SDv(4,15),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.finished)}}function W(o,g){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",16)(2,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.abort())}),e.SDv(3,17),e.qZA()(),e.BQk()}}let Y=(()=>{class o{get _logOptions(){return{previous:this.logService.getPrevious(),timestamps:this.logService.getShowTimestamp()}}constructor(t,i,n,r){this._dialogRef=t,this.data=i,this.logService=n,this.http_=r,this.loaded=0,this.finished=!1,this.destroyRef=(0,e.f3M)(e.ktI),this.http_.request(new _.aW("GET",`api/v1/log/file/${i.namespace}/${i.pod}/${i.container}`,{},{reportProgress:!0,responseType:"blob",params:new _.LE({fromObject:this._logOptions})})).pipe((0,f.sL)(this.destroyRef)).subscribe(d=>{d.type===_.dt.DownloadProgress?this.loaded=d.loaded:d instanceof _.Zn&&(this.finished=!0,this._result=new Blob([d.body],{type:"text/plan"}))},d=>this._error=d.status)}hasForbiddenError(){return void 0!==this._error&&403===this._error}save(){(0,a.saveAs)(this._result,this.logService.getLogFileName(this.data.pod,this.data.container)),this._dialogRef.close()}abort(){this._dialogRef.close()}getDownloadMode(){return this.finished?"determinate":"indeterminate"}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.so),e.Y36(l.WI),e.Y36(c.$),e.Y36(_.eN))};static#o=this.\u0275cmp=e.Xpm({type:o,selectors:[["kd-logs-download-dialog"]],decls:7,vars:5,consts:function(){let t,i,n,r,p,d,O,C,M;return t=" Download logs file\n",i="Size: " + "\ufffd0\ufffd" + " B",n=" Preparing file to download... ",r=" File is ready to download! ",p="Forbidden (403)",d="You do not have required permissions to access this resource.",O=" Save ",C=" Abort ",M=" Close ",[["mat-dialog-title","",4,"ngIf"],[1,"kd-dialog-text"],[4,"ngIf"],["mat-dialog-title",""],t,i,["value","100",1,"kd-download-progress-bar",3,"mode"],n,r,[1,"kd-download-info"],p,d,["mat-button","","color","primary",3,"disabled","click"],O,["mat-button","","color","primary",3,"click"],C,[1,"kd-download-error-button"],M]},template:function(i,n){1&i&&(e.YNc(0,E,2,0,"h2",0),e.TgZ(1,"mat-dialog-content",1),e.YNc(2,v,7,6,"ng-container",2),e.YNc(3,Q,6,0,"ng-container",2),e.qZA(),e.TgZ(4,"mat-dialog-actions"),e.YNc(5,B,5,1,"ng-container",2),e.YNc(6,W,4,0,"ng-container",2),e.qZA()),2&i&&(e.Q6J("ngIf",!n.hasForbiddenError()),e.xp6(2),e.Q6J("ngIf",!n.hasForbiddenError()),e.xp6(1),e.Q6J("ngIf",n.hasForbiddenError()),e.xp6(2),e.Q6J("ngIf",!n.hasForbiddenError()),e.xp6(1),e.Q6J("ngIf",n.hasForbiddenError()))},dependencies:[A.O5,u.lW,x.pW,l.uh,l.xY,l.H8,w.F],styles:[".kd-download-progress-bar[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:8px}"]})}return o})();var K=s(3213),P=s(1234),j=s(8645),q=s(3019),V=s(2096),H=s(4825),k=s(4664),ee=s(9397),X=s(8180),oe=s(9773),J=s(6223),te=s(6005),ne=s(4692),ie=s(695),b=s(2916),se=s(6611),U=s(6649),R=s(3814),le=s(7509),re=s(6484),ae=s(6617),ce=s(4304);const _e=function ge({onlyFirst:o=!1}={}){const g=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(g,o?void 0:"g")}();let ue=(()=>{class o{transform(t){return function de(o){if("string"!=typeof o)throw new TypeError(`Expected a \`string\`, got \`${typeof o}\``);return o.replace(_e,"")}(t)}static#e=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275pipe=e.Yjl({name:"kdStripAnsi",type:o,pure:!0})}return o})(),pe=(()=>{class o{constructor(){this._nonBreakingSpace=160}transform(t){return t?.toString().replace(/\s/g,String.fromCharCode(this._nonBreakingSpace))}static#e=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275pipe=e.Yjl({name:"kdUntrim",type:o,pure:!0})}return o})();const me=["logViewContainer"];function fe(o,g){if(1&o&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&o){const t=g.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function he(o,g){if(1&o&&(e.TgZ(0,"mat-optgroup",26),e.YNc(1,fe,2,2,"mat-option",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.logSources?null:t.logSources.containerNames)}}function Se(o,g){if(1&o&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&o){const t=g.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Te(o,g){if(1&o&&(e.TgZ(0,"mat-optgroup",28),e.YNc(1,Se,2,2,"mat-option",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.logSources?null:t.logSources.initContainerNames)}}function Oe(o,g){if(1&o&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&o){const t=g.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const Le=function(o,g){return{"kd-logs-element-compact":o,"kd-logs-element":g}};function Ce(o,g){if(1&o&&(e.TgZ(0,"div",29)(1,"span"),e._uU(2),e.ALo(3,"kdUntrim"),e.ALo(4,"kdStripAnsi"),e.qZA()()),2&o){const t=g.$implicit,i=e.oxw();e.Q6J("ngClass",e.WLB(6,Le,i.logService.getCompact(),!i.logService.getCompact())),e.xp6(2),e.Oqu(e.lcZ(3,2,e.lcZ(4,4,t)))}}function Me(o,g){if(1&o&&(e.TgZ(0,"div"),e.tHW(1,30),e._UZ(2,"kd-date",31)(3,"kd-date",31),e.N_p(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("date",null==t.podLogs?null:t.podLogs.info.fromDate),e.xp6(1),e.Q6J("date",null==t.podLogs?null:t.podLogs.info.toDate)}}const Ae=function(o){return{"kd-logs-text-color-invert":o}},ve={path:":resourceNamespace/:resourceName/:resourceType",component:(()=>{class o{constructor(t,i,n,r,p,d){this.logService=t,this.activatedRoute_=i,this.settingsService_=n,this.dialog_=r,this.notifications_=p,this._router=d,this.totalItems=0,this.itemsPerPage=10,this.refreshUnsubscribe_=new j.x,this.logsPerView=100,this.maxLogSize=2e9,this.isLoading=!0,this.refreshInterval=this.settingsService_.getLogsAutoRefreshTimeInterval();const O=this.activatedRoute_.snapshot.params.resourceNamespace,m=this.activatedRoute_.snapshot.queryParams.container;t.getResource(`source/${O}/${this.activatedRoute_.snapshot.params.resourceName}/${this.activatedRoute_.snapshot.params.resourceType}`).pipe((0,k.w)(h=>(this.logSources=h,this.pod=h.podNames[0],this.container=m||h.containerNames[0],this.appendContainerParam_(),this.logService.getResource(`${O}/${this.pod}/${this.container}`)))).pipe((0,ee.b)(h=>this.logService.getAutoRefresh()?this.toggleIntervalFunction_():void 0)).pipe((0,X.q)(1)).subscribe(h=>{this.updateUiModel_(h),this.isLoading=!1})}ngOnDestroy(){this._router.navigate([],{queryParams:{container:null},queryParamsHandling:"merge"}),this.refreshUnsubscribe_.next(),this.refreshUnsubscribe_.complete()}onContainerChange(){this.appendContainerParam_(),this.loadNewest()}loadOldest(){this.loadView_(T.LoadStart,T.TimestampOldest,0,-this.maxLogSize-this.logsPerView,-this.maxLogSize,this.scrollToTop_.bind(this))}loadNewest(){this.loadView_(T.LoadEnd,T.TimestampNewest,0,this.maxLogSize,this.maxLogSize+this.logsPerView,this.scrollToBottom_.bind(this))}loadOlder(){this.loadView_(this.currentSelection.logFilePosition,this.currentSelection.referencePoint.timestamp,this.currentSelection.referencePoint.lineNum,this.currentSelection.offsetFrom-this.logsPerView,this.currentSelection.offsetFrom,this.scrollToBottom_.bind(this))}loadNewer(){this.loadView_(this.currentSelection.logFilePosition,this.currentSelection.referencePoint.timestamp,this.currentSelection.referencePoint.lineNum,this.currentSelection.offsetTo,this.currentSelection.offsetTo+this.logsPerView,this.scrollToTop_.bind(this))}onTextColorChange(){this.logService.toggleInverted()}onFontSizeChange(){this.logService.toggleCompact()}onShowTimestamp(){this.logService.toggleShowTimestamp(),this.logsSet=this.formatAllLogs_(this.podLogs.logs)}onPreviousChange(){this.logService.togglePrevious(),this.loadNewest()}toggleLogAutoRefresh(){this.logService.toggleAutoRefresh(),this.toggleIntervalFunction_()}downloadLog(){const t={data:{pod:this.pod,container:this.container,namespace:this.activatedRoute_.snapshot.paramMap.get("resourceNamespace")}};this.dialog_.open(Y,t)}onLogsScroll(){this.logService.setFollowing(this.isScrolledBottom_())}updateUiModel_(t){this.podLogs=t,this.currentSelection=t.selection,this.logsSet=this.formatAllLogs_(t.logs),t.info.truncated&&this.notifications_.push("The middle part of the log file cannot be loaded, because it is too big.",P.qf.error),this.logService.getFollowing()&&setTimeout(()=>{this.scrollToBottom_()})}formatAllLogs_(t){return 0===t.length&&(t=[{timestamp:"0",content:"The selected container has not logged any messages yet."}]),t.map(i=>this.formatLine_(i))}formatLine_(t){return this.logService.getShowTimestamp()?`${new Date(t.timestamp).toISOString()} | ${t.content}`:t.content}appendContainerParam_(){this._router.navigate([],{queryParams:{container:this.container},queryParamsHandling:"merge"})}loadView_(t,i,n,r,p,d){const O=this.activatedRoute_.snapshot.params.resourceNamespace,C=(new _.LE).set("logFilePosition",t).set("referenceTimestamp",i).set("referenceLineNum",`${n}`).set("offsetFrom",`${r}`).set("offsetTo",`${p}`).set("previous",`${this.logService.getPrevious()}`);this.logService.getResource(`${O}/${this.pod}/${this.container}`,C).pipe((0,X.q)(1)).subscribe(M=>{this.updateUiModel_(M),d&&d()})}toggleIntervalFunction_(){this.logService.getAutoRefresh()?(0,q.T)(this.settingsService_.onSettingsUpdate,(0,V.of)(!0)).pipe((0,k.w)(t=>{this.refreshInterval=this.settingsService_.getLogsAutoRefreshTimeInterval();const i=1e3*this.refreshInterval;return(0,H.H)(0,0===i?void 0:i)})).pipe((0,oe.R)(this.refreshUnsubscribe_)).subscribe(t=>this.loadView_(T.LoadEnd,T.TimestampNewest,0,this.maxLogSize,this.maxLogSize+this.logsPerView)):this.refreshUnsubscribe_.next()}scrollToBottom_(){this.scrollTo_("BOTTOM")}scrollToTop_(){this.scrollTo_("TOP")}isScrolledBottom_(){const{nativeElement:t}=this.logViewContainer_;return t.scrollHeight<=t.scrollTop+t.clientHeight}scrollTo_(t){const{nativeElement:i}=this.logViewContainer_;if(!i)return;let n;switch(t){case"TOP":n=0;break;case"BOTTOM":n=i.scrollHeight;break;default:return}i.scrollTo({top:n,left:0,behavior:"smooth"})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(c.$),e.Y36(S.gz),e.Y36(K.o),e.Y36(l.uw),e.Y36(P.TF),e.Y36(S.F0))};static#o=this.\u0275cmp=e.Xpm({type:o,selectors:[["kd-logs"]],viewQuery:function(i,n){if(1&i&&e.Gf(me,7),2&i){let r;e.iGM(r=e.CRH())&&(n.logViewContainer_=r.first)}},decls:68,vars:19,consts:function(){let t,i,n,r,p,d,O,C,M,m,h;return t="Logs from",i="Containers",n="Init Containers",r="in",p="Download logs",d="Invert colors",O="Reduce font size",C="Show timestamps",M="Auto-refresh (every " + "\ufffd0\ufffd" + " s.)",m="Show previous logs",h=" Logs from " + "\ufffd#2\ufffd" + "" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " to " + "\ufffd#3\ufffd" + "" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + "",h=e.Zx4(h),[["role","inner-content",3,"expandable"],["title","","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxFlex","100"],t,[3,"ngModel","ngModelChange","selectionChange"],["label",i,4,"ngIf"],["label",n,4,"ngIf"],r,[3,"value",4,"ngFor","ngForOf"],["fxFlex",""],["fxFlexAlign","center end","mat-icon-button","","matTooltip",p,3,"click"],["fxLayoutAlign","center end","mat-icon-button","",3,"matMenuTriggerFor"],["content","",1,"kd-log-line-container",3,"ngClass","scroll"],["logViewContainer",""],["kdLoadingSpinner","",3,"isLoading"],["fxFlex","","fxLayout","column","fxLayoutGap","2px"],[3,"ngClass",4,"ngFor","ngForOf"],["footer","","fxFlex","","fxLayoutAlign","start center","fxLayout","row",1,"footer"],[4,"ngIf"],["mat-icon-button","",3,"click"],["kdMenu","matMenu"],["mat-menu-item","",3,"click"],d,O,C,M,m,["label",i],[3,"value"],["label",n],[3,"ngClass"],h,["format","short",3,"date"]]},template:function(i,n){if(1&i&&(e.TgZ(0,"kd-card",0)(1,"div",1)(2,"span"),e.SDv(3,2),e.qZA(),e.TgZ(4,"mat-form-field")(5,"mat-select",3),e.NdJ("ngModelChange",function(p){return n.container=p})("selectionChange",function(){return n.onContainerChange()}),e.YNc(6,he,2,1,"mat-optgroup",4),e.YNc(7,Te,2,1,"mat-optgroup",5),e.qZA()(),e.TgZ(8,"span"),e.SDv(9,6),e.qZA(),e.TgZ(10,"mat-form-field")(11,"mat-select",3),e.NdJ("ngModelChange",function(p){return n.pod=p})("selectionChange",function(){return n.loadNewest()}),e.YNc(12,Oe,2,2,"mat-option",7),e.qZA()(),e._UZ(13,"div",8),e.TgZ(14,"button",9),e.NdJ("click",function(){return n.downloadLog()}),e.TgZ(15,"mat-icon"),e._uU(16,"file_download"),e.qZA()(),e.TgZ(17,"button",10)(18,"mat-icon"),e._uU(19,"more_vert"),e.qZA()()(),e.TgZ(20,"div",11,12),e.NdJ("scroll",function(){return n.onLogsScroll()}),e._UZ(22,"div",13),e.TgZ(23,"div",14),e.YNc(24,Ce,5,9,"div",15),e.qZA()(),e.TgZ(25,"div",16),e.YNc(26,Me,4,2,"div",17),e._UZ(27,"div",8),e.TgZ(28,"div")(29,"button",18),e.NdJ("click",function(){return n.loadOldest()}),e.TgZ(30,"mat-icon"),e._uU(31,"first_page"),e.qZA()(),e.TgZ(32,"button",18),e.NdJ("click",function(){return n.loadOlder()}),e.TgZ(33,"mat-icon"),e._uU(34,"chevron_left"),e.qZA()(),e.TgZ(35,"button",18),e.NdJ("click",function(){return n.loadNewer()}),e.TgZ(36,"mat-icon"),e._uU(37,"chevron_right"),e.qZA()(),e.TgZ(38,"button",18),e.NdJ("click",function(){return n.loadNewest()}),e.TgZ(39,"mat-icon"),e._uU(40,"last_page"),e.qZA()()()()(),e.TgZ(41,"mat-menu",null,19)(43,"button",20),e.NdJ("click",function(){return n.onTextColorChange()}),e.TgZ(44,"mat-icon"),e._uU(45),e.qZA(),e.TgZ(46,"span"),e.SDv(47,21),e.qZA()(),e.TgZ(48,"button",20),e.NdJ("click",function(){return n.onFontSizeChange()}),e.TgZ(49,"mat-icon"),e._uU(50),e.qZA(),e.TgZ(51,"span"),e.SDv(52,22),e.qZA()(),e.TgZ(53,"button",20),e.NdJ("click",function(){return n.onShowTimestamp()}),e.TgZ(54,"mat-icon"),e._uU(55),e.qZA(),e.TgZ(56,"span"),e.SDv(57,23),e.qZA()(),e.TgZ(58,"button",20),e.NdJ("click",function(){return n.toggleLogAutoRefresh()}),e.TgZ(59,"mat-icon"),e._uU(60),e.qZA(),e.TgZ(61,"span"),e.SDv(62,24),e.qZA()(),e.TgZ(63,"button",20),e.NdJ("click",function(){return n.onPreviousChange()}),e.TgZ(64,"mat-icon"),e._uU(65),e.qZA(),e.TgZ(66,"span"),e.SDv(67,25),e.qZA()()()),2&i){const r=e.MAs(42);e.Q6J("expandable",!1),e.xp6(5),e.Q6J("ngModel",n.container),e.xp6(1),e.Q6J("ngIf",(null==n.logSources||null==n.logSources.containerNames?null:n.logSources.containerNames.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.logSources||null==n.logSources.initContainerNames?null:n.logSources.initContainerNames.length)>0),e.xp6(4),e.Q6J("ngModel",n.pod),e.xp6(1),e.Q6J("ngForOf",null==n.logSources?null:n.logSources.podNames),e.xp6(5),e.Q6J("matMenuTriggerFor",r),e.xp6(3),e.Q6J("ngClass",e.VKq(17,Ae,null==n.logService?null:n.logService.getInverted())),e.xp6(2),e.Q6J("isLoading",n.isLoading),e.xp6(2),e.Q6J("ngForOf",n.logsSet),e.xp6(2),e.Q6J("ngIf",(null==n.logsSet?null:n.logsSet.length)>1),e.xp6(19),e.Oqu(null!=n.logService&&n.logService.getInverted()?"check_box":"check_box_outline_blank"),e.xp6(5),e.Oqu(n.logService.getCompact()?"check_box":"check_box_outline_blank"),e.xp6(5),e.Oqu(n.logService.getShowTimestamp()?"check_box":"check_box_outline_blank"),e.xp6(5),e.Oqu(n.logService.getAutoRefresh()?"check_box":"check_box_outline_blank"),e.xp6(2),e.pQV(n.refreshInterval),e.QtT(62),e.xp6(3),e.Oqu(n.logService.getPrevious()?"check_box":"check_box_outline_blank")}},dependencies:[A.mk,A.sg,A.O5,J.JJ,J.On,u.lW,te.KE,ne.Hw,ie.gM,b.VK,b.OP,b.p6,se.gD,U.ey,U.Nv,R.xw,R.SQ,R.Wh,R.XD,R.yH,le.oO,re.A,ae.I,ce.g,ue,pe],styles:[".kd-logs-element-compact[_ngcontent-%COMP%], .kd-logs-element[_ngcontent-%COMP%]{font-family:Roboto Mono Regular,monospace;padding:0 16px;word-break:break-word}[_nghost-%COMP%]{height:calc(100% - 40px)}.kd-logs-element[_ngcontent-%COMP%]{font-size:14px}.kd-logs-element-compact[_ngcontent-%COMP%]{font-size:12px}.kd-log-line-container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.kd-log-line-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}kd-card[_ngcontent-%COMP%]{display:flex;max-height:100%;min-height:max(100%,550px)}.footer[_ngcontent-%COMP%]{font-size:14px;padding:4px 16px}"]})}return o})(),data:{breadcrumb:N.SX.Logs,parent:I.WX}};let Ne=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275mod=e.oAB({type:o});static#t=this.\u0275inj=e.cJS({imports:[S.Bz.forChild([ve]),S.Bz]})}return o})(),De=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275mod=e.oAB({type:o});static#t=this.\u0275inj=e.cJS({imports:[A.ez,G.m,D.K,Ne]})}return o})()},217:function(Z,$){var s,D;void 0!==(D="function"==typeof(s=function(){"use strict";function S(l,a,f){var c=new XMLHttpRequest;c.open("GET",l),c.responseType="blob",c.onload=function(){e(c.response,a,f)},c.onerror=function(){console.error("could not download file")},c.send()}function I(l){var a=new XMLHttpRequest;a.open("HEAD",l,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function N(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(a)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,T=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),e=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(l,a,f){var c=_.URL||_.webkitURL,u=document.createElement("a");u.download=a=a||l.name||"download",u.rel="noopener","string"==typeof l?(u.href=l,u.origin===location.origin?N(u):I(u.href)?S(l,a,f):N(u,u.target="_blank")):(u.href=c.createObjectURL(l),setTimeout(function(){c.revokeObjectURL(u.href)},4e4),setTimeout(function(){N(u)},0))}:"msSaveOrOpenBlob"in navigator?function(l,a,f){if(a=a||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function G(l,a){return typeof a>"u"?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,f),a);else if(I(l))S(l,a,f);else{var c=document.createElement("a");c.href=l,c.target="_blank",setTimeout(function(){N(c)})}}:function(l,a,f,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof l)return S(l,a,f);var u="application/octet-stream"===l.type,x=/constructor/i.test(_.HTMLElement)||_.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||u&&x||T)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var v=E.result;v=w?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=v:location=v,c=null},E.readAsDataURL(l)}else{var y=_.URL||_.webkitURL,F=y.createObjectURL(l);c?c.location=F:location.href=F,c=null,setTimeout(function(){y.revokeObjectURL(F)},4e4)}});_.saveAs=e.saveAs=e,Z.exports=e})?s.apply($,[]):s)&&(Z.exports=D)}}]);